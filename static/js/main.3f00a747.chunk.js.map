{"version":3,"sources":["utils/paginate.js","hoc/Auxilliary.js","components/TableRowComponent/TableRowComponent.js","containers/Table/TableRowContainer/TableRowContainer.js","public/icons/chevron-up-solid.js","public/icons/chevron-down-solid.js","components/TableHeaders/TableHeaders.js","containers/Table/Table.js","components/common/Pagination.js","public/icons/search-solid.js","containers/App.js","index.js"],"names":["paginate","items","pageNumber","pageSize","startIndex","slice","aux","props","children","TableRowComponent","data","className","id","name","city","total","average","last","defaultProps","TableRowContainer","Auxilliary","map","elem","key","upArrowIcon","width","aria-hidden","focusable","data-prefix","data-icon","role","xmlns","viewBox","fill","d","downArrowIcon","headers","TableHeaders","onSort","activeHead","theaders","arrow","toLowerCase","cat","isIncrease","onClick","PropTypes","arrayOf","shape","Table","sort","Pagination","itemsCount","currentPage","onPageChange","pagesCount","Math","ceil","pages","Array","idx","page","type","searchIcon","App","state","companies","search","handlePageChange","setState","searchHandler","event","searchedData","forEach","includes","Number","push","length","console","log","target","value","this","initApp","axios","then","resp","incomes","reduce","prev","round","sumCounter","incomesSorted","a","b","dateA","Date","parse","date","latestMonth","getMonth","lastMonthIncomes","filter","lastIncomeFinder","promises","Promise","all","response","header","localeCompare","reverse","paginateCompanies","e","sortHandler","placeholder","onChange","onKeyDown","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3f00a747.chunk.js","sourcesContent":["function paginate(items, pageNumber, pageSize) {\r\n  const startIndex = (pageNumber - 1) * pageSize\r\n  const data = items.slice(startIndex, startIndex + pageSize)\r\n  return data\r\n}\r\nexport default paginate\r\n","const aux = props => props.children\r\n\r\nexport default aux\r\n","import React from \"react\"\r\nimport \"./TableRowComponent.scss\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nfunction TableRowComponent({ data }) {\r\n  return (\r\n    <tr className=\"TableRowComponent\">\r\n      <td>{data.id}</td>\r\n      <td>{data.name}</td>\r\n      <td>{data.city}</td>\r\n      <td>{data.total}</td>\r\n      <td>{data.average}</td>\r\n      <td>{data.last}</td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nTableRowComponent.propTypes = {\r\n  data: PropTypes.shape({\r\n    id: PropTypes.number.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    city: PropTypes.string.isRequired,\r\n    total: PropTypes.number.isRequired,\r\n    average: PropTypes.number.isRequired,\r\n    last: PropTypes.number.isRequired\r\n  })\r\n}\r\n\r\nTableRowComponent.defaultProps = {\r\n  data: {\r\n    id: 1,\r\n    name: \"Warsaw Comapny\",\r\n    city: \"Warsaw\",\r\n    total: 342234.21,\r\n    average: 342234.21,\r\n    last: 342234.21\r\n  }\r\n}\r\n\r\nexport default TableRowComponent\r\n","/* eslint-disable react/prop-types */\r\nimport React from \"react\"\r\n\r\nimport \"./TableRowContainer.scss\"\r\n\r\nimport Auxilliary from \"../../../hoc/Auxilliary\"\r\nimport TableRowComponent from \"../../../components/TableRowComponent/TableRowComponent\"\r\n\r\nconst TableRowContainer = ({ data }) => {\r\n  return (\r\n    <Auxilliary>\r\n      {data.map(elem => {\r\n        return <TableRowComponent key={elem.id} data={elem} />\r\n      })}\r\n    </Auxilliary>\r\n  )\r\n}\r\n\r\nexport default TableRowContainer\r\n","import React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nconst upArrowIcon = ({ width }) => (\r\n  <svg\r\n    width={width}\r\n    aria-hidden=\"true\"\r\n    focusable=\"false\"\r\n    data-prefix=\"fas\"\r\n    data-icon=\"chevron-up\"\r\n    className=\"Icon svg-inline--fa fa-chevron-up fa-w-14\"\r\n    role=\"img\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    viewBox=\"0 0 448 512\"\r\n  >\r\n    <path\r\n      fill=\"currentColor\"\r\n      d=\"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z\"\r\n    />\r\n  </svg>\r\n)\r\nupArrowIcon.propTypes = {\r\n  width: PropTypes.number\r\n}\r\n\r\nupArrowIcon.defaultProps = {\r\n  width: 2\r\n}\r\nexport default upArrowIcon\r\n","import React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nconst downArrowIcon = ({ width }) => (\r\n  <svg\r\n    width={width}\r\n    aria-hidden=\"true\"\r\n    focusable=\"false\"\r\n    data-prefix=\"fas\"\r\n    data-icon=\"chevron-down\"\r\n    className=\"Icon svg-inline--fa fa-chevron-down fa-w-14\"\r\n    role=\"img\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    viewBox=\"0 0 448 512\"\r\n  >\r\n    <path\r\n      fill=\"currentColor\"\r\n      d=\"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z\"\r\n    />\r\n  </svg>\r\n)\r\ndownArrowIcon.propTypes = {\r\n  width: PropTypes.number\r\n}\r\n\r\ndownArrowIcon.defaultProps = {\r\n  width: 2\r\n}\r\nexport default downArrowIcon\r\n","import React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport Auxilliary from \"../../hoc/Auxilliary\"\r\n\r\nimport UpArrow from \"../../public/icons/chevron-up-solid\"\r\nimport DownArrow from \"../../public/icons/chevron-down-solid\"\r\n\r\nconst headers = [\"ID\", \"Name\", \"City\", \"Total\", \"Average\", \"Last\"]\r\n\r\nfunction TableHeaders({ onSort, activeHead }) {\r\n  const theaders = headers.map((elem, id) => {\r\n    let arrow\r\n    if (elem.toLowerCase() === activeHead.cat) {\r\n      if (activeHead.isIncrease) {\r\n        arrow = <UpArrow width={10} />\r\n      } else {\r\n        arrow = <DownArrow width={10} />\r\n      }\r\n    }\r\n    return (\r\n      <th\r\n        // NOTE: This data dosen't change order.\r\n        // eslint-disable-next-line react/no-array-index-key\r\n        key={id}\r\n        onClick={() => {\r\n          onSort(elem.toLowerCase())\r\n        }}\r\n      >\r\n        {arrow}\r\n        <span>{elem}</span>\r\n      </th>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <Auxilliary>\r\n      <tr>{theaders}</tr>\r\n    </Auxilliary>\r\n  )\r\n}\r\n\r\nTableHeaders.propTypes = {\r\n  onSort: PropTypes.func.isRequired,\r\n  activeHead: PropTypes.objectOf(\r\n    PropTypes.shape({\r\n      cat: PropTypes.string.isRequired,\r\n      isIncrease: PropTypes.bool.isRequired\r\n    })\r\n  )\r\n}\r\n\r\nTableHeaders.defaultProps = {\r\n  activeHead: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      cat: \"total\",\r\n      isIncrease: true\r\n    })\r\n  )\r\n}\r\nexport default TableHeaders\r\n","import React from \"react\"\r\nimport \"./Table.scss\"\r\nimport TableRowContainer from \"./TableRowContainer/TableRowContainer\"\r\nimport TableHeaders from \"../../components/TableHeaders/TableHeaders\"\r\n\r\nfunction Table(props) {\r\n  // eslint-disable-next-line react/prop-types\r\n  const { data, onSort, sort } = props\r\n  return (\r\n    <div className=\"Table\">\r\n      <table>\r\n        <thead>\r\n          <TableHeaders onSort={onSort} activeHead={sort} />\r\n        </thead>\r\n        <tbody>\r\n          <TableRowContainer data={data} />\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Table\r\n","import React from \"react\"\r\nimport propTypes from \"prop-types\"\r\n\r\nimport \"./Pagination.scss\"\r\n\r\nconst Pagination = props => {\r\n  const { itemsCount, pageSize, currentPage, onPageChange } = props\r\n  const pagesCount = Math.ceil(itemsCount / pageSize)\r\n  if (pagesCount === 1) return null\r\n  const pages = Array(pagesCount)\r\n    .fill(0, 0, pagesCount)\r\n    .map((elem, idx) => {\r\n      return idx + 1\r\n    })\r\n\r\n  return (\r\n    <nav>\r\n      <ul className=\"Pagination\">\r\n        {pages.map(page => (\r\n          <li\r\n            key={page}\r\n            className={page === currentPage ? \"page-item active\" : \"page-item \"}\r\n          >\r\n            <button\r\n              className=\"page-link\"\r\n              type=\"button\"\r\n              onClick={() => {\r\n                onPageChange(page)\r\n              }}\r\n            >\r\n              {page}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nPagination.propTypes = {\r\n  itemsCount: propTypes.number.isRequired,\r\n  pageSize: propTypes.number.isRequired,\r\n  currentPage: propTypes.number.isRequired,\r\n  onPageChange: propTypes.func.isRequired\r\n}\r\n\r\nexport default Pagination\r\n","import React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nconst searchIcon = ({ width }) => (\r\n  <svg\r\n    width={width}\r\n    aria-hidden=\"true\"\r\n    focusable=\"false\"\r\n    data-prefix=\"fas\"\r\n    data-icon=\"search\"\r\n    className=\"Icon svg-inline--fa fa-search fa-w-16\"\r\n    role=\"img\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    viewBox=\"0 0 512 512\"\r\n  >\r\n    <path\r\n      fill=\"currentColor\"\r\n      d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"\r\n    />\r\n  </svg>\r\n)\r\nsearchIcon.propTypes = {\r\n  width: PropTypes.number\r\n}\r\n\r\nsearchIcon.defaultProps = {\r\n  width: 2\r\n}\r\nexport default searchIcon\r\n","import React, { Component } from \"react\"\nimport axios from \"axios\"\n\nimport \"./App.scss\"\nimport \"../sass/variables.scss\"\nimport \"../sass/grid.scss\"\nimport paginate from \"../utils/paginate\"\n\nimport Table from \"./Table/Table\"\nimport Pagination from \"../components/common/Pagination\"\n\nimport SearchIcon from \"../public/icons/search-solid\"\n\n// eslint-disable-next-line react/prefer-stateless-function\nclass App extends Component {\n  state = {\n    data: [],\n    companies: [],\n    pageSize: 50,\n    currentPage: 1,\n    sort: {\n      cat: \"id\",\n      isIncrease: true\n    },\n    search: \"\"\n  }\n\n  componentDidMount() {\n    this.initApp()\n  }\n\n  handlePageChange = page => {\n    this.setState({\n      currentPage: page\n    })\n  }\n\n  // eslint-disable-next-line consistent-return\n  searchHandler = event => {\n    const { search, data } = this.state\n    if (event.key === \"Enter\" || event.type === \"click\") {\n      const searchedData = []\n      data.forEach(elem => {\n        if (\n          elem.city.includes(search) ||\n          elem.name.includes(search) ||\n          elem.id === Number(search)\n        ) {\n          searchedData.push(elem)\n        }\n      })\n      return searchedData.length !== 0\n        ? this.setState({ companies: searchedData })\n        : console.log(\"Brak firm\")\n    }\n    this.setState({ search: event.target.value })\n  }\n\n  initApp() {\n    let data\n    let total\n    let average\n    let last\n\n    const sumCounter = incomes => {\n      total = incomes.reduce((prev, elem) => {\n        return prev + Number(elem.value)\n      }, 0)\n      total = Math.round(total * 100) / 100\n      return total\n    }\n\n    const lastIncomeFinder = incomes => {\n      const incomesSorted = incomes.sort((a, b) => {\n        const dateA = Date.parse(a.date)\n        const dateB = Date.parse(b.date)\n        return dateB - dateA\n      })\n\n      const latestMonth = new Date(incomesSorted[0].date).getMonth()\n\n      let lastMonthIncomes = incomesSorted\n        .filter(elem => new Date(elem.date).getMonth() === latestMonth)\n        .reduce((prev, elem) => prev + Number(elem.value), 0)\n      lastMonthIncomes = Math.round(lastMonthIncomes * 100) / 100\n      return lastMonthIncomes\n    }\n\n    axios(\"https://recruitment.hal.skygate.io/companies\")\n      .then(companies => {\n        data = companies.data\n        return data.map(elem => {\n          return axios(\n            `https://recruitment.hal.skygate.io/incomes/${elem.id}`\n          ).then(resp => {\n            const { incomes } = resp.data\n            total = sumCounter(incomes)\n            average = Math.round((total / incomes.length) * 100) / 100\n            last = lastIncomeFinder(incomes)\n            return { ...elem, total, average, last }\n          })\n        })\n      })\n      .then(promises => {\n        Promise.all(promises).then(incomes => {\n          const response = incomes.sort((a, b) => {\n            return a.id - b.id\n          })\n          this.setState({ data: response, companies: response })\n        })\n      })\n  }\n\n  sortHandler(header) {\n    // eslint-disable-next-line prefer-const\n    let { data, sort } = this.state\n    if (sort.cat !== header) {\n      if (header === \"name\" || header === \"city\") {\n        data = data.sort()\n        data = data.sort((a, b) => {\n          return a[header].localeCompare(b[header])\n        })\n        this.setState({ data, sort: { cat: header, isIncrease: true } })\n      } else {\n        data = data.sort((a, b) => {\n          return a[header] - b[header]\n        })\n        this.setState({ data, sort: { cat: header, isIncrease: true } })\n      }\n    } else {\n      data = data.reverse()\n      this.setState({ sort: { cat: header, isIncrease: !sort.isIncrease } })\n    }\n  }\n\n  render() {\n    const { companies, pageSize, currentPage, sort, search } = this.state\n    const paginateCompanies = paginate(companies, currentPage, pageSize)\n    return (\n      <div className=\"App\">\n        <header>\n          <h5>Table of Companies</h5>\n        </header>\n        <main>\n          <Table\n            data={paginateCompanies}\n            onSort={e => this.sortHandler(e)}\n            sort={sort}\n          />\n          <div className=\"NavPanel\">\n            <div className=\"search\">\n              <input\n                className=\"search-input\"\n                type=\"text\"\n                placeholder=\"Name,city or id\"\n                value={search}\n                onChange={this.searchHandler}\n                onKeyDown={this.searchHandler}\n              />\n              <button type=\"submit\" onClick={this.searchHandler}>\n                <SearchIcon width={15} />\n                <span>Search</span>\n              </button>\n            </div>\n            <Pagination\n              itemsCount={companies.length}\n              pageSize={pageSize}\n              currentPage={currentPage}\n              onPageChange={this.handlePageChange}\n            />\n          </div>\n        </main>\n        <footer>\n          <p>@Copyright by Jedrzej Siewierski Krawczyk</p>\n        </footer>\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./containers/App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}